<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Color Palette Generator â€¢ DevTools</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="container page">
      <div class="header">
        <a class="brand" href="/"><span class="dot"></span> DevTools</a>
      </div>
      <h1>Color Palette Generator</h1>
      <div class="row"><button class="btn" id="gen">Generate</button></div>
      <div class="grid" id="grid" style="margin-top: 12px"></div>
    </div>
    <div class="toast"></div>
    <script src="/app.js"></script>
    <script>
      function rnd() {
        return Math.floor(Math.random() * 256);
      }
      function toHex(n) {
        return n.toString(16).padStart(2, "0");
      }
      function hslToRgb(h, s, l) {
        s /= 100;
        l /= 100;
        const k = (n) => (n + h / 30) % 12,
          a = s * Math.min(l, 1 - l),
          f = (n) =>
            l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));
        return [
          Math.round(255 * f(0)),
          Math.round(255 * f(8)),
          Math.round(255 * f(4)),
        ];
      }
      function gen() {
        const g = $("#grid");
        g.innerHTML = "";
        const baseHue = Math.floor(Math.random() * 360);
        const modes = [
          [0, 30, 60, 90, 120],
          [0, 15, 30, 45, 60],
          [0, 180, 200, 220, 240],
          [0, 120, 240, 300, 60],
        ];
        const m = modes[Math.floor(Math.random() * modes.length)];
        for (const off of m) {
          const [r, gc, b] = hslToRgb((baseHue + off) % 360, 60, 55);
          const hex = "#" + toHex(r) + toHex(gc) + toHex(b);
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `<div class="title">${hex}</div><div class="desc">rgb(${r}, ${gc}, ${b})</div>`;
          card.onclick = () => {
            navigator.clipboard.writeText(hex);
            toast("Copied " + hex);
          };
          g.appendChild(card);
        }
      }
      $("#gen").onclick = gen;
      gen();
    </script>
  </body>
</html>
